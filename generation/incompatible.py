incompatible_list = [ 
    
    { "4_back": "back_spike_purple", "background": "purp2" },           # avoid purple spike with purple background
    { "4_back": "back_spike_white", "background": "egg" },              # avoid back spike white with egg bg
    { "4_back": "back_dragonwings_white", "background": "egg" },
    { "4_back": "back_featherwings_white", "background": "egg" },

    { "4_back": "back_spike_white", "background": "tan" },              # avoid white spikes on tan background
    { "4_back": "back_featherwings_orange", "background": "sand2"},
    { "4_back": "back_featherwings_yellow","background": "tan"},
    { "4_back": "back_dragonwings_yellow","background": "tan"},
    { "base_color": "red", "background": "forest" },                    # avoid red base color and green background
    { "4_back": "back_featherwings_orange", "background": "tan"},
    { "4_back": "back_dragonwings_blue", "background": "skyish"},
    { "4_back": "back_featherwings_blue", "background": "skyish"},


    {"base_color": "red", "background": "apricot"},
    {"base_color": "red", "background": "varsity"}
    {"base_color": "red", "background": "skyish"}
    {"base_color": "red", "background": "sky"}
    {"base_color": "red", "background": "egg"}


    # red, medium/dark horns, black back
    {"background": "black2", "13_horns": "horns_ram_medium")
    {"background": "black2", "13_horns": "horns_ram_dark")
    {"background": "black2", "13_horns": "horns_unicorn_medium")
    {"background": "black2", "13_horns": "horns_unicorn_dark")
    {"background": "black2", "13_horns": "horns_goat_medium")
    {"background": "black2", "13_horns": "horns_goat_dark")
    {"background": "black2", "13_horns": "horns_bull_medium")
    {"background": "black2", "13_horns": "horns_bull_dark")
    {"background": "black2", "13_horns": "horns_antlers_medium")
    {"background": "black2", "13_horns": "horns_antlers_dark")

    {"background": "superdark", "13_horns": "horns_ram_medium")
    {"background": "superdark", "13_horns": "horns_ram_dark")
    {"background": "superdark", "13_horns": "horns_unicorn_medium")
    {"background": "superdark", "13_horns": "horns_unicorn_dark")
    {"background": "superdark", "13_horns": "horns_goat_medium")
    {"background": "superdark", "13_horns": "horns_goat_dark")
    {"background": "superdark", "13_horns": "horns_bull_medium")
    {"background": "superdark", "13_horns": "horns_bull_dark")
    {"background": "superdark", "13_horns": "horns_antlers_medium")
    {"background": "superdark", "13_horns": "horns_antlers_dark")

    {"background": "purp2", "13_horns": "horns_ram_medium")
    {"background": "purp2", "13_horns": "horns_ram_dark")
    {"background": "purp2", "13_horns": "horns_unicorn_medium")
    {"background": "purp2", "13_horns": "horns_unicorn_dark")
    {"background": "purp2", "13_horns": "horns_goat_medium")
    {"background": "purp2", "13_horns": "horns_goat_dark")
    {"background": "purp2", "13_horns": "horns_bull_medium")
    {"background": "purp2", "13_horns": "horns_bull_dark")
    {"background": "purp2", "13_horns": "horns_antlers_medium")
    {"background": "purp2", "13_horns": "horns_antlers_dark")

    {"background": "forest", "13_horns": "horns_ram_medium")
    {"background": "forest", "13_horns": "horns_ram_dark")
    {"background": "forest", "13_horns": "horns_unicorn_medium")
    {"background": "forest", "13_horns": "horns_unicorn_dark")
    {"background": "forest", "13_horns": "horns_goat_medium")
    {"background": "forest", "13_horns": "horns_goat_dark")
    {"background": "forest", "13_horns": "horns_bull_medium")
    {"background": "forest", "13_horns": "horns_bull_dark")
    {"background": "forest", "13_horns": "horns_antlers_medium")
    {"background": "forest", "13_horns": "horns_antlers_dark")

    {"background": "varsity", "13_horns": "horns_ram_medium")
    {"background": "varsity", "13_horns": "horns_ram_dark")
    {"background": "varsity", "13_horns": "horns_unicorn_medium")
    {"background": "varsity", "13_horns": "horns_unicorn_dark")
    {"background": "varsity", "13_horns": "horns_goat_medium")
    {"background": "varsity", "13_horns": "horns_goat_dark")
    {"background": "varsity", "13_horns": "horns_bull_medium")
    {"background": "varsity", "13_horns": "horns_bull_dark")
    {"background": "varsity", "13_horns": "horns_antlers_medium")
    {"background": "varsity", "13_horns": "horns_antlers_dark")

    {"background": "skyish", "13_horns": "horns_ram_medium")
    {"background": "skyish", "13_horns": "horns_ram_dark")
    {"background": "skyish", "13_horns": "horns_unicorn_medium")
    {"background": "skyish", "13_horns": "horns_unicorn_dark")
    {"background": "skyish", "13_horns": "horns_goat_medium")
    {"background": "skyish", "13_horns": "horns_goat_dark")
    {"background": "skyish", "13_horns": "horns_bull_medium")
    {"background": "skyish", "13_horns": "horns_bull_dark")
    {"background": "skyish", "13_horns": "horns_antlers_medium")
    {"background": "skyish", "13_horns": "horns_antlers_dark")

    {"background": "sky", "13_horns": "horns_ram_medium")
    {"background": "sky", "13_horns": "horns_ram_dark")
    {"background": "sky", "13_horns": "horns_unicorn_medium")
    {"background": "sky", "13_horns": "horns_unicorn_dark")
    {"background": "sky", "13_horns": "horns_goat_medium")
    {"background": "sky", "13_horns": "horns_goat_dark")
    {"background": "sky", "13_horns": "horns_bull_medium")
    {"background": "sky", "13_horns": "horns_bull_dark")
    {"background": "sky", "13_horns": "horns_antlers_medium")
    {"background": "sky", "13_horns": "horns_antlers_dark")

    {"background": "egg", "13_horns": "horns_ram_medium")
    {"background": "egg", "13_horns": "horns_ram_dark")
    {"background": "egg", "13_horns": "horns_unicorn_medium")
    {"background": "egg", "13_horns": "horns_unicorn_dark")
    {"background": "egg", "13_horns": "horns_goat_medium")
    {"background": "egg", "13_horns": "horns_goat_dark")
    {"background": "egg", "13_horns": "horns_bull_medium")
    {"background": "egg", "13_horns": "horns_bull_dark")
    {"background": "egg", "13_horns": "horns_antlers_medium")
    {"background": "egg", "13_horns": "horns_antlers_dark")



    ["black2", "superdark", "purp2", "forest", "varsity", 




    {"base_color": "red", "background": "superdark"}
    {"base_color": "red", "background": "purp2"}
    {"base_color": "red", "background": "forest"
    {"base_color": "red", "background": "varsity"}
    {"base_color": "red", "background": "skyish"}
    {"base_color": "red", "background": "sky"
    {"base_color": "red", "background": "egg"}




]  


 # red body rules
        if color == "red":

            if hornscolor in ["medium", "dark"] or backcolor == "black":
                background, background_frame = background_manifest.get_avoid(["black2", "superdark", "purp2", "forest", "varsity", "skyish", "sky", "egg"])
                data["background"] = background
                print("Avoided horn/background clash for red body!")

            # normal background avoidances for red
            else:
                background, background_frame = background_manifest.get_avoid(["varsity", "skyish", "sky", "egg"])
                data["background"] = background

        elif color == "orange":

            if hornscolor in ["medium", "dark"] or backcolor == "black":
                background, background_frame = background_manifest.get_avoid(["black2", "superdark", "purp2", "forest", "apricot"])
                data["background"] = background
                print("Avoided horn/background clash for orange body!")

            # normal background avoidances for orange
            else:
                background, background_frame = background_manifest.get_avoid(["apricot"])
                data["background"] = background
                print("Avoided orange/apricot")


        if background in ["superdark", "black2"]:
            tail, tail_frames = get_trait_color_avoid_category(trait_manifest, "1_tail", color, ["kitsune", "scorpion", "lion"])[0:4:3]
            data.update(tail)
            print("Avoid kitsune/lion/scorpion clash with superdark.")
        else:
            tail, tail_frames = get_trait_color(trait_manifest, "1_tail", color)[0:4:3]
            data.update(tail)

